<app-banner [data]="title"></app-banner>

<div class="container mt-4">
  
    <table class="table table-striped text-center">
        <thead>
          <tr class="bg-dark text-light">
            <th scope="col">Item Description</th>
            <th scope="col">Unit Price</th>
            <th scope="col">Quantity</th>
            <th scope="col">SubTotal</th>
          
          </tr>
        </thead>
        <tbody >
          <ng-container *ngFor="let group of groupedProduct">
            <tr>
              <td [attr.colspan]="group.products.length + 5"> <strong>{{ group.category }}</strong></td>
            </tr>
            <tr *ngFor="let product of group.products">
              <td>{{ product.ProdName }}</td>
              <td>{{ product.prodPrice }}</td>
              <td><button class="p-2 btn btn-outline-danger mx-1 rounded-5 "  (click)="_removeProd(product.productID)">-</button><span class="p-2 pcount rounded-3 ">{{product.prodQYT}}</span><button class="p-2 btn btn-outline-success mx-1 rounded-5 "  (click)="_addProd(product.productID)">+</button></td>
              <td>{{product.prodTotalPrice|currency}} <button class="btn btn-outline-danger mx-2" (click)="_deleteProduct(product.productID)"><i class="bi bi-trash"></i></button></td> 
            </tr>
          </ng-container>
     
    
        </tbody>
      </table>
      <div class="container bill_div  rounded-2">
        <div class="row">
          <div class="col">
          <p> <strong> Sub Total</strong></p>
          <p> <strong>Delivery Chrages</strong>  <i class="bi bi-question bg-success rounded-circle mx-2 text-light"></i></p>
        </div>
        <div class="col">
          <p>{{subTotal|currency}}</p>
          <p>{{deliveryCharge|currency}}</p>
        </div>
        </div>
        <div class="row">
          <div class="col">
        <strong>Grand Total</strong>
        </div>
        <div class="col">
         <strong>{{totalCartAmount|currency}}</strong>
        </div>
        </div>
        <div class="row mt-2">
          <button class="btn btn-lg btn-success" (click)="_checkOut()">checkout</button>
        </div>

      </div>
</div>